---
title: "Side Effects - useEffect"
image: "/static/images/side-effects-useeffect.jpg"
cover: "/static/images/opengraph/side-effects-useeffect.jpg"
author: "/static/images/author-voltadev.png"
nameauthor: "voltadev"
published: "06-06-2022"
description: "Side Effects useEffect a detalle"
---

# Side Effects - useEffect

> Hola bienvenido al blog üòÄ este post lo voy dividir en 2, para poder entender a profundidad lo que
> es un side Effects y el hook useEffect

## Efectos secundarios (Side Effects)

En programaci√≥n, llamamos efectos secundarios a las modificaciones que alteran el
estado de nuestro programa. Vamos a verlo en t√©rminos pr√°cticos comparando dos funciones:

```js
(x,y) => x + y

nombre = ‚Äú‚Äù;
(value) => nombre = value;
```

<br />

Decimos que la primera funci√≥n no produce efectos secundarios, porque la ejecuci√≥n de
la misma no altera nada fuera del alcance de esta funci√≥n, podemos ejecutar esta funci√≥n
cuantas veces queramos, y nada cambiar√°.

<br />

Por otro lado, la segunda funci√≥n cambia una variable fuera de la ejecuci√≥n de la
funci√≥n, alterando el estado de la app. Este es un efecto secundario.

<br />

Cuando hablamos de React, si el componente ejecuta una operaci√≥n que altera el estado
global de la app, estar√≠amos produciendo un efecto secundario, en general, un componente
debe hacer operaciones que alteren al componente mismo, y no m√°s. Por supuesto que
hay muchas excepciones, sin embargo, hay que tener en cuenta que el c√≥digo que no
produce efectos secundarios es menos impredecible y m√°s f√°cil de debuggear.

<br />

Algunos ejemplos de efectos secundarios en un componente pueden ser, realizar peticiones
a un servidor con AJAX, alterar el DOM manualmente, conectarse a una websocket, etc.

<br />

En un componente funcional, estas operaciones no se pueden ejecutar, ya que las funciones
de un componente, no producen efectos secundarios.

<br />

Para poder ejecutar operaciones que produzcan efectos secundarios, podemos usar el
hook **useEffect.**

<br />

**useEffect** nos permite enviar una funci√≥n que se ejecutar√° luego del render de
una funci√≥n, esta funci√≥n puede producir efectos secundarios, de ah√≠ el nombre del
**hook useEffect.**

<br />

## En t√©rminos pr√°cticos, useEffect es el lugar perfecto para:

- <span className="list-icon">‚úÖ </span> <b>
    Ejecutar c√≥digo como parte del ciclo de vida del componente
  </b>
- <span className="list-icon">‚úÖ </span> <b>Hacer peticiones AJAX</b>
- <span className="list-icon">‚úÖ </span> <b>
    Actualizar el DOM directamente, por ejemplo para reproducir un v√≠deo
  </b>
- <span className="list-icon">‚úÖ </span> <b>Logging de cambios</b>

<br />

**useEffect** recibe como segundo argumento despu√©s de la primer funci√≥n un arreglo.
En este arreglo puedes pasar variables que se usar√°n para determinar si el efecto debe ejecutarse o no.
En la documentaci√≥n de React podemos ver un muy buen ejemplo:

```jsx import React, {(useState, useEffect)} from "react";
function Example() {
  const [count, setCount] = useState(0);
  useEffect(() => {
    document.title = `You clicked ${count} times`;
  }, [count]); // Solo se ejecuta si count cambi√≥ entre un render y otro

  return (
    <div>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  );
}
```

<br />

Cuando pasamos un arreglo vac√≠o, **useEffect s√≥lo se ejecutar√° una vez luego del primer render.**

Por √∫ltimo, si una funci√≥n se retorna del efecto, √©sta se ejecutar√° luego del √∫ltimo render una vez
que el componente desaparezca de la interfaz.

## Side Effects y useEffect üòé ¬ø Cu√°ndo se ejecuta ?

El principal objetivo de react es proporcionar la mejor experiencia de usuario posible y para eso
hay que ser capaces de distinguir entre lo que es "importante y lo que es necesario" entre lo prioritario
y lo que puede esperar

<br />

**"La prioridad m√°xima de una aplicaci√≥n" es reaccionar ante las acciones del usuario y proporcionar una respuesta visual r√°pida y efectiva, esta respuesta visual implica realizar cambios sobre nuestra interfaz y para hacerlo sabemos que tenemos que provocar un renderizado que al final terminara de ACTUALIZAR EL DOM, pero esto no es lo √∫nico que debe que hacer una aplicaci√≥n**

<br />

Podemos establecer una premisa que la prioridad m√°xima cuando el usuario realiza una b√∫squeda
es ofrecer esta respuesta oficial inmediata mostrando este spiner

<br />

![spinner](/static/images/spinner.png "spinner")

<br />

a continuaci√≥n y como consecuencia de esta busquedad hay varias tareas adicionales, que nuestra App
debe realizar que si bien no son tan importante, como esta primera estapa son completamente necesarias, para que
funcione completamente ejemplo de estas tareas:

<br />

- <span className="list-icon">‚úÖ </span> a√±adir un query string a esta URL -> Cambiar
  URL
- <span className="list-icon">‚úÖ </span> cambiar el t√≠tulo de la pesta√±a -> Cambiar
  t√≠tulo
- <span className="list-icon">‚úÖ </span> realizar la petici√≥n a la API para obtener
  los resultados -> API de b√∫squeda
- <span className="list-icon">‚úÖ </span>registrar las m√©tricas en nuestro
  servidor

<br />

![spinner](/static/images/consecuencias-useEffect.png)

<br />

Desde el punto de vista del **usuario** todas estas acciones son secundarias.

<br />

Desde del punto de vista del **desarrollador** son efectos secundarios **(side effects)** de la
acci√≥n principal, para poderlos gestionarlos correctamente react nos proporciona el Hook de **useEffect "hook para efectos secundarios"**
pero ante de ver como funciona hay entender a que nos referimos cuando hablamos de side effects

## Side effects

<!-- ![primer-commit](/static/images/primer-commit.png "fork star")

<br />

üìö [git - la gu√≠a sencilla](https://rogerdudler.github.io/git-guide/index.es.html "git - la gu√≠a sencilla")

<br />

## ü§© Star y Fork ‚≠ê

Contento que este repositorio ya le ha servido a 28 personas, con eso estoy mas que pagado, el poder ayudar a esas personas que reci√©n comienzan con git, ya que al principio hay muchos conceptos que no entendemos. Si quieres puedes
compartir este repo con amigos que reci√©n parten con git y dejarlo en alguna comunidad de discord donde hablen respecto a git.
Gracias por los star y fork. Si√©ntete libre de compartir el repositorio, la idea es difundir todo lo que ha otros les pueda ayudar. -->

```

```
