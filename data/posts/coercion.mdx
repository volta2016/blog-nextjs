---
title: "Type Coercion"
image: "/static/images/type-coercion.jpg"
cover: "/static/images/opengraph/type-coercion-cover-voltadevblog.jpg"
author: "/static/images/author-voltadev.png"
nameauthor: "voltadev"
published: "11-20-2021"
description: "SegÃºn MDN, la coerciÃ³n es la conversiÃ³n automÃ¡tica o implicita de valores de un tipo de dato a otro"
---

SegÃºn MDN, la **coerciÃ³n** es la conversiÃ³n automÃ¡tica o implicita de valores de un tipo de dato a otro <br/> **Ejemplo: de cadena de texto a nÃºmero**.
JavaScript es de tipado dinÃ¡mico **â€œDuck typingâ€** a diferencia de otros lenguajes como **C# o Java** que son â€œstatic typedâ€ o de tipos estÃ¡ticos.

En el estilo de tipificaciÃ³n **Duck typing** no es necesario especificar el tipo de dato para las variables ya que el tipo estÃ¡ asociado al valor, esto es una gran ventaja ya que podemos cambiar su valor sin ningÃºn problema.

<br />
<br />

## Hay que tener en cuenta la siguientes reglas

- <span className="list-icon">âœ”ï¸</span> objects evaluados como <b>true</b>
- <span className="list-icon">âœ”ï¸</span> undefined evaluado como <b>false</b>
- <span className="list-icon">âœ”ï¸</span> null evaluado como <b>false</b>
- <span className="list-icon">âœ”ï¸</span> booleans evalÃºa el valor del <b>
    booleano
  </b>
- <span className="list-icon">âœ”ï¸</span> numbers evalÃºa <b>false</b> si +0, -0, o
  NaN, para los demÃ¡s <b>true</b>
- <span className="list-icon">âœ”ï¸</span> strings evalÃºa <b>false</b> si un string
  estÃ¡ vacÃ­o â€˜â€™, para los demÃ¡s <b>true</b>

## 1- IntroducciÃ³n a la CoerciÃ³n

Si ejecutas el siguiente cÃ³digo en la consola del navegador la salida nos muestra **true**

```js
0 == "0"; //true
```

<br />

1. El primer 0 es de type number
2. El segundo 0 es de type "string"

<br />

Nunca deberÃ­an ser true, en la mayoria de lenguajes se respeta eso
Por ejemplo en JAVA retorna este mensaje:

**error: incomparable types: int and String** esto tiene mucho sentido. Si deseas comparar un int y String en Java, primero debe convertirlos al mismo tipo.

<br />

<p>
  <i>
    <span className="list-icon">ğŸš§ </span>"Cuando JS compara dos valores a
    travÃ©s de ==, uno de los valores puede sufrir coerciÃ³n"
  </i>
</p>

<br />

### CoerciÃ³n: cambia automÃ¡ticamente un valor de un tipo a otro.

<p>
  <span className="list-icon">ğŸ›‘</span>
  Esto conviene si lo estas aplicando a proposito, pero es potencialmente daÃ±ino
  si no conoces sus implicaciones
</p>

Â¡El segundo valor 0 se convirtiÃ³ en un nÃºmero!
entonces si 0 es igual a 0, es true
ExtraÃ±o, Â¿verdad? bueno acostÃºmbrate.

<span className="list-icon">ğŸ‘‰ </span>
<i>Secretamente el 0 en string se convirtiÃ³ a nÃºmero </i>

## 2- Las matrices tambiÃ©n hacen coerciÃ³n

```js
0 == []; // true
```

<p>
  <span className="list-icon">ğŸ¤” </span>Â¿QuÃ© ha pasado ?
</p>

<p>
  <span className="list-icon">ğŸ‘‰ </span>CoerciÃ³n de nuevo
</p>

<br />

1. Si los arrays son objects
2. El array vacÃ­o se convierte en un string vacÃ­o

<br />

Nuevamente, de acuerdo con la especificaciÃ³n, JS primero busca el mÃ©todo toString de un objeto para coaccionarlo.

```JavaScript
[1, 2, 3].toString()

[("hello", "world")].toString(); // "hello,world"
```

Dado que nuestra matriz estÃ¡ vacÃ­a, Â¡no tenemos nada a que unirnos! por lo tanto...

```js
[].toString(); // ""
```

<p>
  <span className="list-icon">ğŸ‘‰ </span>
  Un array vacÃ­o hace coerciÃ³n para un string vacÃ­o
</p>

<br />

"ToPrimitive de la especificaciÃ³n convierte a esta matriz vacÃ­a en una cadena vacÃ­a"

<br />

3. El string vacÃ­o luego se convierte en 0

<br />

No puedes inventar estas cosas. Ahora que hemos aplicado **coerciÃ³n a la matriz** a "", volvemos al primer algoritmo

Dado que 0 es NÃºmero y "" es Cadena, devuelve 0 == ToNumber ("")

```js
ToNumber("") retona 0.

//Por lo tanto,
0 == 0 //una vez mÃ¡s
```

## 3- Resumen rÃ¡pido

Esto es true

```js
0 == "0"; // true
```

<br />

<p>
  <span className="list-icon">ğŸ‘‰ </span>
  Porque la coerciÃ³n convierte esto a number
</p>

<p>
  <span className="list-icon">ğŸ‘‰ </span>
  Porque coerciÃ³n corre 2 veces:
</p>

<p>
  <span className="list-icon">ğŸ‘‰ </span>
  ToPrimitive ([])// "" da una cadena vacÃ­a 2- Entonces ToNumber ("") da 0
</p>

<br />

<br />

Â¡FALSO! Correcto. Esta parte tiene sentido si entendiste las reglas.

```js
"0" == []; // false
```

<br />
Si x es String o Number, y es Object, devuelve x == ToPrimitive (y)

<br />

Eso significa...

<br />

Como "0" es String y [] es Object, devuelve x == ToPrimitive ([])

```JavaScript
"0" == ""
```

<br />

**Son cadenas, por lo que JavaScript dice que no se necesita mÃ¡s coerciÃ³n. Es por eso que nos devuelve false.**

### conclusiÃ³n:

```JavaScript
"0" == "" // false
"0" == [] //false
```

JavaScript devuelve falso

<br />

- <span className="list-icon">âœ”ï¸</span> cero "string" no es igual a un string vacÃ­o
- <span className="list-icon">âœ”ï¸</span> cero "string" no es igual a un array vacÃ­o

- <span className="list-icon">ğŸ‘€ </span> No puedes hacer ceorciÃ³n si tu ocupas ===
  triple igual

<br />

### JavaScript es raro ğŸ˜„

![meme js](/static/images/meme-js.png "meme js")
